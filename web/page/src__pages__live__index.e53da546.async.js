(self.webpackChunk=self.webpackChunk||[]).push([[424,83,510,309],{97237:function(F,d,e){"use strict";e.r(d);var a=e(5574),r=e.n(a),u=e(62435);d.default=function(f,s){var i=(0,u.useState)(""),o=r()(i,2),P=o[0],h=o[1],x=(0,u.useMemo)(function(){var n={};return s==null||s.forEach(function(l){n[l.class]||(n[l.class]=[]),n[l.class].push(l)}),n},[s]);return(0,u.useEffect)(function(){var n,l=s==null||(n=s.find(function(E){return E.id===f}))===null||n===void 0?void 0:n.class;h(l||"\u4E2D\u592E\u53F0")},[f,s]),{groupMap:x,group:P,setGroup:h}}},59481:function(F,d,e){"use strict";e.r(d),e.d(d,{default:function(){return h}});var a={list:"list___jDrCZ",item:"item___kTjlb",active:"active___F5oAQ",disabled:"disabled___LN1Ge",pc:"pc___LAwSH"},r=e(97237),u=e(95898),f=e(94184),s=e.n(f),i=e(86074),o=u.mQ.TabPane,P=function(n){var l=n.liveKey,E=n.liveList,D=n.isPc,M=n.onLiveKeyChange,m=(0,r.default)(l,E),R=m.group,G=m.setGroup,O=m.groupMap,p=function(W){var L=O[W]||[];return L.length?(0,i.jsx)(u.aV,{dataSource:L,className:a.list,renderItem:function(v){return(0,i.jsx)(u.aV.Item,{className:s()(v.src?null:a.disabled,l===v.id?a.active:null,a.item),onClick:function(){return v.src?M(v.id):null},children:v.name})},grid:D?void 0:{gutter:24,span:8}}):null};return(0,i.jsxs)(u.mQ,{className:D?a.pc:a.root,activeKey:R,onChange:G,children:[(0,i.jsx)(o,{tab:"\u4E2D\u592E\u53F0",itemKey:"\u4E2D\u592E\u53F0",children:p("\u4E2D\u592E\u53F0")}),(0,i.jsx)(o,{tab:"\u5730\u65B9\u53F0",itemKey:"\u5730\u65B9\u53F0",children:p("\u5730\u65B9\u53F0")}),(0,i.jsx)(o,{tab:"\u5E7F\u64AD\u53F0",itemKey:"\u5E7F\u64AD\u53F0",children:p("\u5E7F\u64AD\u53F0")}),(0,i.jsx)(o,{tab:"\u5176\u4ED6",itemKey:"\u5176\u4ED6",children:p("\u5176\u4ED6")})]})},h=P},69742:function(F,d,e){"use strict";e.r(d),e.d(d,{default:function(){return V}});var a=e(5574),r=e.n(a),u=e(97857),f=e.n(u),s=e(15009),i=e.n(s),o=e(13769),P=e.n(o),h=e(99289),x=e.n(h),n=e(95898),l=e(11238),E=["url"],D=function(){var v=x()(i()().mark(function g(C){var N,I;return i()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return N=C.url,I=P()(C,E),y.abrupt("return",(0,l.ZP)(N,I).then(function(c){if(I.responseType==="blob"){var t=c,K=t.response.headers.get("fileName");return{data:t.data,name:K}}return c.data}).catch(function(c){var t;if((c==null||(t=c.response)===null||t===void 0?void 0:t.status)!==200){var K;n.FN.error(((K=c.data)===null||K===void 0?void 0:K.msg)||c.toString())}throw new Error("")}));case 2:case"end":return y.stop()}},g)}));return function(g){return v.apply(this,arguments)}}(),M="/api/v1",m=function(g){return"".concat(M).concat(g)},R={LIVE:{list:{url:m("/lives"),method:"GET"}}},G=R.LIVE.list,O=function(){return D(f()({},G))},p=e(93724),U=e(1249),W=e(68421),L=e(62435),V=function(){var v=(0,U.useSearchParams)(),g=r()(v,2),C=g[0],N=g[1],I=(0,p.Z)(),S=(0,L.useRef)(null),y=(0,L.useRef)(null),c=(0,W.Z)(function(){return O()},{cacheKey:"queryLiveList",cacheTime:-1,staleTime:-1}),t=c.data,K=c.loading,B=C.get("key")||"",Z=function(T){C.set("key",T),N(C)};return(0,L.useEffect)(function(){var j=window.Hls,T=y.current;j.isSupported()&&T&&(S.current=new j)},[]),(0,L.useEffect)(function(){var j,T=y.current,H=t==null||(j=t.find(function(A){return A.id===B}))===null||j===void 0?void 0:j.src;S.current&&T&&(H?(S.current.loadSource(H),S.current.attachMedia(T)):t!=null&&t.filter(function(A){return A.src}).length&&Z(t==null?void 0:t.find(function(A){return A.src})[0]))},[B,t]),{liveKey:B,liveList:t,loading:K,videoRef:y,handleLiveKeyChange:Z,isPc:I}}},81723:function(F,d,e){"use strict";e.r(d),e.d(d,{default:function(){return h}});var a={video:"video___WUDN_",pc:"pc___m_tcB"},r=e(69742),u=e(95898),f=e(59481),s=e(94184),i=e.n(s),o=e(86074),P=function(){var n=(0,r.default)(),l=n.liveKey,E=n.liveList,D=n.loading,M=n.videoRef,m=n.isPc,R=n.handleLiveKeyChange;return(0,o.jsx)("div",{className:i()(a.root,m?a.pc:null),children:(0,o.jsxs)(u.yC,{spinning:D,children:[(0,o.jsx)("video",{ref:M,controls:!0,autoPlay:!0,className:a.video}),(0,o.jsx)(f.default,{liveList:E,liveKey:l,onLiveKeyChange:R,isPc:m})]})})},h=P},93724:function(F,d,e){"use strict";var a=e(28663);d.Z=function(){var r=(0,a.Z)(document.body),u=(r==null?void 0:r.width)||document.body.offsetWidth,f=(r==null?void 0:r.height)||document.body.offsetHeight;return u>f}},24654:function(){}}]);
