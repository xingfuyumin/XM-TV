(self.webpackChunk=self.webpackChunk||[]).push([[424,83,510,309],{97237:function(N,d,e){"use strict";e.r(d);var a=e(5574),r=e.n(a),u=e(62435);d.default=function(f,s){var i=(0,u.useState)(""),o=r()(i,2),P=o[0],h=o[1],R=(0,u.useMemo)(function(){var n={};return s==null||s.forEach(function(l){n[l.class]||(n[l.class]=[]),n[l.class].push(l)}),n},[s]);return(0,u.useEffect)(function(){var n,l=s==null||(n=s.find(function(E){return E.id===f}))===null||n===void 0?void 0:n.class;h(l||"\u4E2D\u592E\u53F0")},[f,s]),{groupMap:R,group:P,setGroup:h}}},59481:function(N,d,e){"use strict";e.r(d),e.d(d,{default:function(){return h}});var a={list:"list___jDrCZ",item:"item___kTjlb",active:"active___F5oAQ",disabled:"disabled___LN1Ge",pc:"pc___LAwSH"},r=e(97237),u=e(95898),f=e(94184),s=e.n(f),i=e(86074),o=u.mQ.TabPane,P=function(n){var l=n.liveKey,E=n.liveList,p=n.isPc,M=n.onLiveKeyChange,g=(0,r.default)(l,E),I=g.group,O=g.setGroup,W=g.groupMap,D=function(B){var L=W[B]||[];return L.length?(0,i.jsx)(u.aV,{dataSource:L,className:a.list,renderItem:function(v){return(0,i.jsx)(u.aV.Item,{className:s()(v.src?null:a.disabled,l===v.id?a.active:null,a.item),onClick:function(){return v.src?M(v.id):null},children:v.name})},grid:p?void 0:{gutter:24,span:8}}):null};return(0,i.jsxs)(u.mQ,{className:p?a.pc:a.root,activeKey:I,onChange:O,children:[(0,i.jsx)(o,{tab:"\u4E2D\u592E\u53F0",itemKey:"\u4E2D\u592E\u53F0",children:D("\u4E2D\u592E\u53F0")}),(0,i.jsx)(o,{tab:"\u5730\u65B9\u53F0",itemKey:"\u5730\u65B9\u53F0",children:D("\u5730\u65B9\u53F0")}),(0,i.jsx)(o,{tab:"\u5E7F\u64AD\u53F0",itemKey:"\u5E7F\u64AD\u53F0",children:D("\u5E7F\u64AD\u53F0")}),(0,i.jsx)(o,{tab:"\u5176\u4ED6",itemKey:"\u5176\u4ED6",children:D("\u5176\u4ED6")})]})},h=P},69742:function(N,d,e){"use strict";e.r(d),e.d(d,{default:function(){return Z}});var a=e(5574),r=e.n(a),u=e(97857),f=e.n(u),s=e(15009),i=e.n(s),o=e(13769),P=e.n(o),h=e(99289),R=e.n(h),n=e(95898),l=e(11238),E=["url"],p=function(){var v=R()(i()().mark(function y(C){var G,S;return i()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return G=C.url,S=P()(C,E),m.abrupt("return",(0,l.ZP)(G,S).then(function(c){if(S.responseType==="blob"){var t=c,K=t.response.headers.get("fileName");return{data:t.data,name:K}}return c.data}).catch(function(c){var t;if((c==null||(t=c.response)===null||t===void 0?void 0:t.status)!==200){var K;n.FN.error(((K=c.data)===null||K===void 0?void 0:K.msg)||c.toString())}throw new Error("")}));case 2:case"end":return m.stop()}},y)}));return function(y){return v.apply(this,arguments)}}(),M="/api/v1",g=function(y){return"".concat(M).concat(y)},I={LIVE:{list:{url:g("/lives"),method:"GET"}}},O=I.LIVE.list,W=function(){return p(f()({},O))},D=e(93724),V=e(1249),B=e(68421),L=e(62435),Z=function(){var v=(0,V.useSearchParams)(),y=r()(v,2),C=y[0],G=y[1],S=(0,D.Z)(),A=(0,L.useRef)(null),m=(0,L.useRef)(null),c=(0,B.Z)(function(){return W()},{cacheKey:"queryLiveList",cacheTime:-1,staleTime:-1}),t=c.data,K=c.loading,U=C.get("key")||"",H=function(T){var x;C.set("key",T),G(C,{replace:!0}),(x=m.current)===null||x===void 0||x.scrollIntoView()};return(0,L.useEffect)(function(){var j=window.Hls,T=m.current;j.isSupported()&&T&&(A.current=new j)},[]),(0,L.useEffect)(function(){var j,T=m.current,x=t==null||(j=t.find(function(F){return F.id===U}))===null||j===void 0?void 0:j.src;A.current&&T&&(x?(A.current.loadSource(x),A.current.attachMedia(T)):t!=null&&t.filter(function(F){return F.src}).length&&H(t==null?void 0:t.find(function(F){return F.src})[0]))},[U,t]),{liveKey:U,liveList:t,loading:K,videoRef:m,handleLiveKeyChange:H,isPc:S}}},81723:function(N,d,e){"use strict";e.r(d),e.d(d,{default:function(){return h}});var a={video:"video___WUDN_",pc:"pc___m_tcB"},r=e(69742),u=e(95898),f=e(59481),s=e(94184),i=e.n(s),o=e(86074),P=function(){var n=(0,r.default)(),l=n.liveKey,E=n.liveList,p=n.loading,M=n.videoRef,g=n.isPc,I=n.handleLiveKeyChange;return(0,o.jsx)("div",{className:i()(a.root,g?a.pc:null),children:(0,o.jsxs)(u.yC,{spinning:p,children:[(0,o.jsx)("video",{ref:M,controls:!0,autoPlay:!0,className:a.video}),(0,o.jsx)(f.default,{liveList:E,liveKey:l,onLiveKeyChange:I,isPc:g})]})})},h=P},93724:function(N,d,e){"use strict";var a=e(28663);d.Z=function(){var r=(0,a.Z)(document.body),u=(r==null?void 0:r.width)||document.body.offsetWidth,f=(r==null?void 0:r.height)||document.body.offsetHeight;return u>f}},24654:function(){}}]);
